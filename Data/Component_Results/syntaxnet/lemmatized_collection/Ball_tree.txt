in computer science a ball tree balltree or metric tree be a space partition data structure for organize point in a multidimensional space . the ball tree get it name from the fact that it partition data point into a nested set of hyperspheres know a ball . the resulting data structure have characteristic that make it useful for a number of application most notably near neighbor search . a ball tree be a binary tree in which every node define a ddimensional hypersphere or ball contain a subset of the point to be search . each internal node of the tree partition the data point into two disjoint set which are associate with different ball . while the ball themselves may intersect each point is assign to one or the other ball in the partition accord to it distance from the ball center . each leaf node in the tree define a ball and enumerate all data point inside that ball . each node in the tree define the small ball that contain all data point in it subtree . this give rise to the useful property that for a give test point the distance to any point in a ball in the tree be great than or equal to the distance from to the ball . formally . where formula be the minimum possible distance from any point in the ball to some point . balltrees be related to the mtree but only support binary split whereas in the mtree each level split formula to formula fold thus leading to a shallow tree structure therefore need fewer distance computation which usually yield faster query . furthermore mtrees can well be store on disk which is organize in page . the mtree also keep the distance from the parent node precomputed to speed up query . vantagepoint tree be also similar but they binary split into one ball and the remain data instead of use two ball . a number of ball tree construction algorithm be available . the goal of such an algorithm be to produce a tree that will efficiently support query of the desired type e . nearestneighbor efficiently in the average case . the specific criterion of an ideal tree will depend on the type of question being answer and the distribution of the underlying data . however a generally applicable measure of an efficient tree be one that minimize the total volume of it internal node . give the varied distribution of realworld data set this be a difficult task but there be several heuristic that partition the data well in practice . in general there be a tradeoff between the cost of construct a tree and the efficiency achieve by this metric . this section briefly describe the simple of these algorithm . a more indepth discussion of five algorithm wa give by stephen omohundro . the simple such procedure be term the kd construction algorithm by analogy with the process use to construct kd tree . this be an offline algorithm that be an algorithm that operate on the entire data set at once . the tree be built topdown by recursively split the data point into two set . split are choose along the single dimension with the great spread of point with the set partition by the median value of all point along that dimension . find the split for each internal node requires linear time in the number of sample contain in that node yielding an algorithm with time complexity formula where n be the number of data point . function constructballtree be . an important application of ball tree is expedite near neighbor search query in which the objective be to find the k point in the tree that be close to a give test point by some distance metric e . euclidean distance . a simple search algorithm sometimes call kns exploit the distance property of the ball tree . in particular if the algorithm be search the data structure with a test point t and ha already see some point p that be close to t among the point encounter so far then any subtree whose ball be far from t than p can be ignore for the rest of the search . the ball tree nearestneighbor algorithm examine node in depthfirst order start at the root . during the search the algorithm . maintain a maxfirst priority queue often implement with a heap denote q here of the k near point encounter so far . at each node b it may perform one of three operation before finally return an update version of the priority queue . perform the recursive search in the order describe in point above increase likelihood that the further child will be prune . entirely during the search . function knnsearch be . in comparison with several other data structure ball tree have been show to perform fairly well on . the nearestneighbor search problem particularly a their number of dimension grows . however the best nearestneighbor data structure for a given application will depend on the dimensionality number of data point and underlying structure of the data .